<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zikr Setting Panel</title>
    <link rel="stylesheet" href="css/setting.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <a href="index.html" class="back-btn">
                <i class="fas fa-arrow-left"></i> Back to Zikr
            </a>
            <h1><i class="fas fa-cogs"></i> Zikr Setting Panel</h1>
            <p>Manage your Zikr, Wazifa, and Salah database</p>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Left Sidebar - Records List -->
            <div class="records-sidebar">
                <div class="sidebar-header">
                    <h2><i class="fas fa-list"></i> All Zikr Records</h2>
                    <button class="add-new-btn" onclick="addNewRecord()">
                        <i class="fas fa-plus"></i> Add New
                    </button>
                </div>
                <div class="records-list" id="recordsList">
                    <div class="loading">
                        <div class="spinner"><i class="fas fa-spinner"></i></div>
                        <p>Loading records...</p>
                    </div>
                </div>
            </div>
            
            <!-- Right Side - Form -->
            <div class="form-section">
                <div class="form-header">
                    <h2 id="formTitle"><i class="fas fa-plus-circle"></i> Add New Zikr</h2>
                </div>
                
                <!-- Status Messages -->
                <div class="status-message" id="statusMessage"></div>
                
                <!-- Zikr Form -->
                <form id="zikrForm">
                    <div class="form-container">
                        <!-- Basic Information -->
                        <div class="form-group full-width">
                            <label for="title"><i class="fas fa-heading"></i> Title *</label>
                            <input type="text" id="title" name="title" 
                                   placeholder="e.g., Zikr | Surah As-Saff (61:13)" required>
                        </div>
                        
                        <!-- Arabic Text -->
                        <div class="form-group full-width">
                            <label for="arabic"><i class="fas fa-language"></i> Arabic Text (HTML allowed)</label>
                            <textarea id="arabic" name="arabic" 
                                      placeholder="Enter Arabic text. Use &lt;br&gt; for line breaks"></textarea>
                        </div>
                        
                        <!-- Roman Arabic -->
                        <div class="form-group full-width">
                            <label for="romanArabic"><i class="fas fa-font"></i> Roman Arabic (HTML allowed)</label>
                            <textarea id="romanArabic" name="romanArabic" 
                                      placeholder="Enter Roman Arabic transliteration"></textarea>
                        </div>
                        
                        <!-- Roman Urdu -->
                        <div class="form-group full-width">
                            <label for="romanUrdu"><i class="fas fa-comment"></i> Roman Urdu (HTML allowed)</label>
                            <textarea id="romanUrdu" name="romanUrdu" 
                                      placeholder="Enter Roman Urdu translation"></textarea>
                        </div>

                        <!-- Description Field -->
                        <div class="form-group full-width">
                            <label for="description"><i class="fas fa-info-circle"></i> Description/Benefits (HTML allowed)</label>
                            <textarea id="description" name="description" 
                                    placeholder="Enter description, benefits and importance of this Zikr/Wazifa. This will be shown as tooltip in main app."></textarea>
                            <small style="color: #666; display: block; margin-top: 5px;">
                                This text will appear as a tooltip when user hovers over the info icon.
                            </small>
                        </div>
                        
                        <!-- Type and Thresholds -->
                        <div class="form-group">
                            <label><i class="fas fa-tag"></i> Zikr Type</label>
                            <div class="checkbox-group">
                                <input type="checkbox" id="isFixedLevel" name="isFixedLevel">
                                <label for="isFixedLevel">Fixed Zikr (Read once)</label>
                            </div>
                        </div>
                        
                        <div class="form-group full-width" id="thresholdSection">
                            <label><i class="fas fa-sliders-h"></i> Threshold Counts</label>
                            <div class="threshold-group">
                                <div class="threshold-item">
                                    <label for="mukhtasarThreshold">Mukhtasar (Short)</label>
                                    <input type="number" id="mukhtasarThreshold" name="mukhtasarThreshold" 
                                           min="3" max="999" value="3" step="2">
                                </div>
                                <div class="threshold-item">
                                    <label for="wasatThreshold">Wasat (Medium)</label>
                                    <input type="number" id="wasatThreshold" name="wasatThreshold" 
                                           min="7" max="999" value="7" step="2">
                                </div>
                                <div class="threshold-item">
                                    <label for="mukammalThreshold">Mukammal (Full)</label>
                                    <input type="number" id="mukammalThreshold" name="mukammalThreshold" 
                                           min="11" max="999" value="11" step="2">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Hidden Fields -->
                        <input type="hidden" id="recordId" name="id" value="0">
                        
                        <!-- Form Actions -->
                        <div class="form-actions">
                            <button type="button" class="btn cancel-btn" onclick="resetForm()">
                                <i class="fas fa-times"></i> Cancel
                            </button>
                            <button type="button" class="btn delete-btn" id="deleteBtn" 
                                    onclick="deleteRecord()" style="display: none;">
                                <i class="fas fa-trash-alt"></i> Delete
                            </button>
                            <button type="submit" class="btn save-btn">
                                <i class="fas fa-save"></i> Save Record
                            </button>
                        </div>
                    </div>
                </form>
                
                <!-- Data Management Section -->
                <div class="import-export">
                    <h3><i class="fas fa-database"></i> Data Management</h3>
                    
                    <div class="import-export-buttons">
                        <!-- Zikr Data Management -->
                        <button class="import-export-btn export-btn tooltip" onclick="exportZikrData()"
                                data-tooltip="Download all Zikr data as JSON file for backup or transfer">
                            <i class="fas fa-download"></i>
                            <span>Export Zikr Data</span>
                        </button>
                        
                        <label class="import-export-btn import-label tooltip"
                               data-tooltip="Upload Zikr JSON file to import data">
                            <i class="fas fa-upload"></i>
                            <span>Import Zikr Data</span>
                            <input type="file" id="importZikrFile" accept=".json" onchange="importZikrData(event)">
                        </label>
                        
                        <!-- Salah Data Management -->
                        <button class="import-export-btn salah-btn tooltip" onclick="exportSalahData()"
                                data-tooltip="Download all Salah tracking data as JSON file">
                            <i class="fas fa-download"></i>
                            <span>Export Salah Data</span>
                        </button>
                        
                        <label class="import-export-btn import-label tooltip"
                               data-tooltip="Upload Salah JSON file to import tracking data">
                            <i class="fas fa-upload"></i>
                            <span>Import Salah Data</span>
                            <input type="file" id="importSalahFile" accept=".json" onchange="importSalahData(event)">
                        </label>
                        
                        <!-- Backup and Restore -->
                        <button class="import-export-btn backup-btn tooltip" onclick="backupAllData()"
                                data-tooltip="Create a complete backup of all data in browser storage">
                            <i class="fas fa-database"></i>
                            <span>Backup All Data</span>
                        </button>
                        
                        <button class="import-export-btn restore-btn tooltip" onclick="restoreAllData()"
                                data-tooltip="Restore all data from browser backup">
                            <i class="fas fa-history"></i>
                            <span>Restore from Backup</span>
                        </button>
                        
                        <!-- Reset Options -->
                        <button class="import-export-btn reset-btn tooltip" onclick="resetToDefault()"
                                data-tooltip="Reset all Zikr data to original values from data.json">
                            <i class="fas fa-redo"></i>
                            <span>Reset Zikr Data</span>
                        </button>
                        
                        <button class="import-export-btn reset-btn tooltip" onclick="clearAllSalahData()"
                                data-tooltip="Delete all Salah tracking data (This action cannot be undone)">
                            <i class="fas fa-trash"></i>
                            <span>Clear Salah Data</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="footer">
            <div class="footer-content">
                <p><i class="fas fa-info-circle"></i> Changes are saved to browser storage automatically</p>
                <p><i class="fas fa-sync-alt"></i> Refresh main app after making changes</p>
                <p><i class="fas fa-shield-alt"></i> Data is stored locally in your browser</p>
            </div>
            <div class="copyright">
                <i class="fas fa-code"></i> Created By JibraeelInfoTech
            </div>
        </div>
    </div>

    <script src="js/setting.js"></script>
</body>
</html>